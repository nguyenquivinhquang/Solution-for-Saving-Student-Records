CREATE TABLE Course
(
  Course_Id CHAR(30) NOT NULL,
  Course_name CHAR(100) NOT NULL,
  Credits INT NOT NULL,
  Description CHAR(500) NOT NULL,
  PRIMARY KEY (Course_Id)
);

CREATE TABLE [User]
(
  Username CHAR(30) NOT NULL,
  Password CHAR(100) NOT NULL,
  Role CHAR(10) NOT NULL,
  PRIMARY KEY (Username)
);

CREATE TABLE Tuition_fee
(
  Price_per_credit FLOAT NOT NULL,
  Semeter INT NOT NULL,
  Year INT NOT NULL,
  Insurance_price FLOAT NOT NULL,
  PRIMARY KEY (Semeter, Year)
);

CREATE TABLE Student
(
  First_name CHAR(30) NOT NULL,
  Last_name CHAR(30) NOT NULL,
  Birth_day CHAR(12) NOT NULL,
  Academic_year INT NOT NULL,
  Mail CHAR(50) NOT NULL,
  Student_Id CHAR(30) NOT NULL,
  PRIMARY KEY (Student_Id),
  FOREIGN KEY (Student_Id) REFERENCES [User](Username)
);

CREATE TABLE Scholarship
(
  Semester INT NOT NULL,
  Tuition INT NOT NULL,
  Scholarship_type CHAR NOT NULL,
  Year INT NOT NULL,
  Student_Id CHAR(30) NOT NULL,
  PRIMARY KEY (Student_Id),
  FOREIGN KEY (Student_Id) REFERENCES Student(Student_Id)
);

CREATE TABLE Teacher
(
  Department CHAR(100) NOT NULL,
  First_name CHAR(30) NOT NULL,
  Last_name CHAR(30) NOT NULL,
  Mail CHAR(50) NOT NULL,
  Teacher_Id CHAR(30) NOT NULL,
  PRIMARY KEY (Teacher_Id),
  FOREIGN KEY (Teacher_Id) REFERENCES [User](Username)
);

CREATE TABLE Semester_billing
(
  Money_received FLOAT NOT NULL,
  Semeter INT NOT NULL,
  Year INT NOT NULL,
  Student_Id CHAR(30) NOT NULL,
  PRIMARY KEY (Student_Id),
  FOREIGN KEY (Semeter, Year) REFERENCES Tuition_fee(Semeter, Year),
  FOREIGN KEY (Student_Id) REFERENCES Student(Student_Id)
);

CREATE TABLE Administrator
(
  Admin_name CHAR(50) NOT NULL,
  Admin_Id CHAR(30) NOT NULL,
  PRIMARY KEY (Admin_Id),
  FOREIGN KEY (Admin_Id) REFERENCES [User](Username)
);

CREATE TABLE Class
(
  Section CHAR(10),
  Size INT NOT NULL,
  Course_Id CHAR(30) NOT NULL,
  Teacher_Id CHAR(30) NOT NULL,
  PRIMARY KEY (Section, Course_Id, Teacher_Id),
  FOREIGN KEY (Course_Id) REFERENCES Course(Course_Id),
  FOREIGN KEY (Teacher_Id) REFERENCES Teacher(Teacher_Id)
);

CREATE TABLE Enrolled_Class
(
  In_class NUMERIC(5,2) NOT NULL,
  Midterm NUMERIC(5,2) NOT NULL,
  Final NUMERIC(5,2) NOT NULL,
  Section CHAR(10) NOT NULL,
  Course_Id CHAR(30) NOT NULL,
  Teacher_Id CHAR(30) NOT NULL,
  Student_Id CHAR(30) NOT NULL,
  PRIMARY KEY (Section, Course_Id, Teacher_Id, Student_Id),
  FOREIGN KEY (Section, Course_Id, Teacher_Id) REFERENCES Class(Section, Course_Id, Teacher_Id),
  FOREIGN KEY (Student_Id) REFERENCES Student(Student_Id),
  
);

insert into [user](Username, Password,Role)
values ('admin_quang', '22ae1b3d5a231c373930fd723ce7200847cf81ec6d49a3fa2eeb518427e324d4','admin');

insert into [Administrator](Admin_Id, Admin_name)
values ('admin_quang','Vinh Quang');


INSERT INTO Course (Course_Id,Description,Course_name,Credits) VALUES ('CH012IU','','Chemistry Laboratory',1);
INSERT INTO Course (Course_Id,Description,Course_name,Credits) VALUES ('EN007IU','','Writing AE1',2);
INSERT INTO Course (Course_Id,Description,Course_name,Credits) VALUES ('IT082IU','','Internship',3);
INSERT INTO Course (Course_Id,Description,Course_name,Credits) VALUES ('MA023IU','','Calculus 3',4);
INSERT INTO Course (Course_Id,Description,Course_name,Credits) VALUES ('IT090IU','','Object-Oriented Analysis and Design',4);
INSERT INTO Course (Course_Id,Description,Course_name,Credits) VALUES ('IT013IU','DSA','Algorithms & Data Structures',4);
INSERT INTO Course (Course_Id,Description,Course_name,Credits) VALUES ('IT097IU','','Introduction to Artificial Intelligence',4);
INSERT INTO Course (Course_Id,Description,Course_name,Credits) VALUES ('IT136IU','','Regression Analysis',4);
INSERT INTO Course (Course_Id,Description,Course_name,Credits) VALUES ('IT138IU','','Data Science and Data Visualization',4);
INSERT INTO Course (Course_Id,Description,Course_name,Credits) VALUES ('IT149IU','','Fundamentals of Programming',4);
INSERT INTO Course (Course_Id,Description,Course_name,Credits) VALUES ('IT151IU','','Statistical Methods',3);
INSERT INTO Course (Course_Id,Description,Course_name,Credits) VALUES ('CH012IU','','Chemistry Laboratory',1);
INSERT INTO Course (Course_Id,Description,Course_name,Credits) VALUES ('IT120IU','','Entrepreneurship',3);
INSERT INTO Course (Course_Id,Description,Course_name,Credits) VALUES ('EN007IU','','Writing AE1',2);
INSERT INTO Course (Course_Id,Description,Course_name,Credits) VALUES ('IT154IU','','Linear Algebra',3);
INSERT INTO Course (Course_Id,Description,Course_name,Credits) VALUES ('IT140IU','','Fundamental Concepts of Data Security',4);
INSERT INTO Course (Course_Id,Description,Course_name,Credits) VALUES ('IT135IU','','Introduction to Data Science',3);
INSERT INTO Course (Course_Id,Description,Course_name,Credits) VALUES ('EN008IU','','Listening AE1',2);
INSERT INTO Course (Course_Id,Description,Course_name,Credits) VALUES ('PE016IU','','Political economics of Marxism and Leninism',2);
INSERT INTO Course (Course_Id,Description,Course_name,Credits) VALUES ('PE008IU','','Critical Thinking',3);
INSERT INTO Course (Course_Id,Description,Course_name,Credits) VALUES ('PE015IU','','Philosophy of Marxism and Leninism',3);
INSERT INTO Course (Course_Id,Description,Course_name,Credits) VALUES ('PT001IU','','Physical Training 1',3);
INSERT INTO Course (Course_Id,Description,Course_name,Credits) VALUES ('PH013IU','','Physics 1',2);



INSERT INTO [User](Username, Password,Role) VALUES ('hvus','a665a45920422f9d417e4867efdc4fb8a04a1f3fff1fa07e998e86f7f7a27ae3','Teacher')
INSERT INTO Teacher (First_name,Last_name,Teacher_Id,Department,Mail) VALUES ('Uyen Synh','Ha Viet','hvus','IT','hvus@hcmiu.edu.vn');

